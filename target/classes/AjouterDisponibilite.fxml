<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="650.0" prefWidth="950.0" styleClass="root" stylesheets="@style/disponibilite-style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.User.AjouterDisponibilite">
    <children>
        <!-- Utilisation de BorderPane pour centrage -->
        <BorderPane prefHeight="650.0" prefWidth="950.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <top>
                <!-- Titre et sous-titre -->
                <VBox alignment="CENTER" spacing="10">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="30.0" />
                    </padding>
                    <children>
                        <HBox alignment="CENTER" spacing="15.0">
                            <children>
                                <Label styleClass="form-title" text="Ajouter une disponibilité" />
                                <ImageView fitHeight="32.0" fitWidth="32.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image url="@assets/calendar-icon.png" />
                                    </image>
                                </ImageView>
                            </children>
                        </HBox>
                        <Label styleClass="form-subtitle" text="Veuillez compléter les informations ci-dessous pour ajouter une nouvelle disponibilité." />
                    </children>
                </VBox>
            </top>

            <center>
                <!-- Conteneur principal centré -->
                <StackPane BorderPane.alignment="CENTER">
                    <children>
                        <AnchorPane maxWidth="700.0" styleClass="form-container">
                            <children>
                                <!-- Formulaire centré -->
                                <VBox alignment="CENTER" layoutX="40.0" layoutY="30.0" prefHeight="450.0" spacing="25" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="40.0" AnchorPane.rightAnchor="40.0" AnchorPane.topAnchor="30.0">
                                    <children>
                                        <!-- Date Field -->
                                        <VBox spacing="8" styleClass="form-field">
                                            <children>
                                                <Label styleClass="field-label" text="Date de disponibilité" />
                                                <DatePicker fx:id="datePicker" maxWidth="600.0" prefHeight="45.0" promptText="Sélectionnez une date" />
                                                <Label fx:id="dateErrorLabel" styleClass="error-label" text="La date doit être dans le futur" visible="false" />
                                            </children>
                                        </VBox>

                                        <!-- Créneaux horaires -->
                                        <VBox spacing="12" styleClass="form-field">
                                            <children>
                                                <Label styleClass="field-label" text="Créneaux horaires disponibles" />
                                                <HBox alignment="CENTER" spacing="20" styleClass="time-slot-container">
                                                    <children>
                                                        <HBox alignment="CENTER_LEFT" styleClass="time-slot">
                                                            <children>
                                                                <CheckBox fx:id="check9_11" mnemonicParsing="false">
                                                                    <padding>
                                                                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                                    </padding>
                                                                </CheckBox>
                                                                <Label text="09:00 - 11:00" />
                                                            </children>
                                                        </HBox>
                                                        <HBox alignment="CENTER_LEFT" styleClass="time-slot">
                                                            <children>
                                                                <CheckBox fx:id="check11_13" mnemonicParsing="false">
                                                                    <padding>
                                                                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                                    </padding>
                                                                </CheckBox>
                                                                <Label text="11:00 - 13:00" />
                                                            </children>
                                                        </HBox>
                                                        <HBox alignment="CENTER_LEFT" styleClass="time-slot">
                                                            <children>
                                                                <CheckBox fx:id="check14_16" mnemonicParsing="false">
                                                                    <padding>
                                                                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                                    </padding>
                                                                </CheckBox>
                                                                <Label text="14:00 - 16:00" />
                                                            </children>
                                                        </HBox>
                                                        <HBox alignment="CENTER_LEFT" styleClass="time-slot">
                                                            <children>
                                                                <CheckBox fx:id="check16_18" mnemonicParsing="false">
                                                                    <padding>
                                                                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                                    </padding>
                                                                </CheckBox>
                                                                <Label text="16:00 - 18:00" />
                                                            </children>
                                                        </HBox>
                                                    </children>
                                                </HBox>
                                                <Label fx:id="creneauErrorLabel" styleClass="error-label" text="Veuillez sélectionner au moins un créneau horaire" visible="false" />
                                            </children>
                                        </VBox>

                                        <!-- Statut -->
                                        <VBox spacing="8" styleClass="form-field">
                                            <children>
                                                <Label styleClass="field-label" text="Statut de disponibilité" />
                                                <ComboBox fx:id="statutComboBox" maxWidth="600.0" prefHeight="45.0" promptText="Sélectionnez un statut">
                                                    <items>
                                                        <FXCollections fx:factory="observableArrayList">
                                                            <String fx:value="Disponible" />
                                                            <String fx:value="Indisponible" />
                                                        </FXCollections>
                                                    </items>
                                                </ComboBox>
                                                <Label fx:id="statutErrorLabel" styleClass="error-label" text="Le statut est obligatoire" visible="false" />
                                            </children>
                                        </VBox>

                                        <!-- ID Médecin -->
                                        <VBox spacing="8" styleClass="form-field">
                                            <children>
                                                <Label styleClass="field-label" text="Médecin" />
                                                <ComboBox fx:id="medecinComboBox" maxWidth="600.0" prefHeight="45.0" promptText="Sélectionnez un médecin" />
                                                <Label fx:id="medecinErrorLabel" styleClass="error-label" text="Veuillez sélectionner un médecin" visible="false" />
                                            </children>
                                        </VBox>

                                        <!-- Buttons -->
                                        <HBox alignment="CENTER" spacing="20">
                                            <children>
                                                <Button mnemonicParsing="false" onAction="#annuler" prefHeight="50.0" prefWidth="180.0" styleClass="cancel-button" text="Annuler">
                                                    <graphic>
                                                        <ImageView fitHeight="16.0" fitWidth="16.0" pickOnBounds="true" preserveRatio="true">
                                                            <image>
                                                                <Image url="@assets/cancel-icon.png" />
                                                            </image>
                                                        </ImageView>
                                                    </graphic>
                                                </Button>
                                                <Button mnemonicParsing="false" onAction="#ajouterDisponibilite" prefHeight="50.0" prefWidth="180.0" styleClass="add-button" text="Ajouter">
                                                    <graphic>
                                                        <ImageView fitHeight="16.0" fitWidth="16.0" pickOnBounds="true" preserveRatio="true">
                                                            <image>
                                                                <Image url="@assets/icons8-add-16.png" />
                                                            </image>
                                                        </ImageView>
                                                    </graphic>
                                                </Button>
                                            </children>
                                            <padding>
                                                <Insets top="20.0" />
                                            </padding>
                                        </HBox>
                                    </children>
                                </VBox>
                            </children>
                            <StackPane.margin>
                                <Insets bottom="30.0" left="30.0" right="30.0" top="10.0" />
                            </StackPane.margin>
                        </AnchorPane>
                    </children>
                </StackPane>
            </center>
        </BorderPane>
    </children>
</AnchorPane>