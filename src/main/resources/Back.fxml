<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.effect.Shadow?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="mainAnchorPane" prefHeight="800.0" prefWidth="1200.0" stylesheets="@/style/backofficestyle.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.User.Back">
    <children>
        <AnchorPane layoutX="249.0" prefHeight="806.0" prefWidth="1301.0" style="-fx-background-color: #E9F6FF;">
            <effect>
                <Shadow>
                    <color>
                        <Color red="0.6425731182098389" green="0.7528654932975769" blue="0.8631578683853149" opacity="0.4699999988079071" />
                    </color>
                </Shadow>
            </effect>
        </AnchorPane>
        <BorderPane prefHeight="800.0" prefWidth="1200.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <!-- Sidebar avec scroll -->
            <left>
                <ScrollPane fitToWidth="true" hbarPolicy="NEVER" prefWidth="250.0" styleClass="sidebar-scroll">
                    <content>
                        <VBox prefWidth="250.0" styleClass="sidebar">
                            <!-- En-tête avec titre -->
                            <HBox alignment="CENTER_LEFT" prefHeight="70.0" styleClass="sidebar-header">
                                <padding>
                                    <Insets bottom="10.0" left="15.0" right="15.0" top="10.0" />
                                </padding>
                                <children>
                                    <Label styleClass="sidebar-title" text="BabySteps Admin">
                                        <font>
                                            <Font name="System Bold" size="18.0" />
                                        </font>
                                    </Label>
                                </children>
                            </HBox>

                            <!-- Profil Admin -->
                            <VBox alignment="CENTER" styleClass="admin-profile">
                                <padding>
                                    <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                                </padding>
                                <children>
                                    <Label styleClass="admin-name" text="Admin Panel">
                                        <VBox.margin>
                                            <Insets bottom="5.0" />
                                        </VBox.margin>
                                    </Label>
                                    <Label styleClass="admin-role" text="Administrateur" />
                                </children>
                            </VBox>

                            <!-- Menu de navigation -->
                            <VBox spacing="5.0" styleClass="sidebar-menu" VBox.vgrow="ALWAYS">
                                <padding>
                                    <Insets bottom="20.0" left="10.0" right="10.0" top="20.0" />
                                </padding>
                                <children>
                                    <Label styleClass="menu-category" text="GESTION">
                                        <VBox.margin>
                                            <Insets bottom="5.0" left="10.0" />
                                        </VBox.margin>
                                    </Label>

                                    <Button fx:id="btnDashboard" mnemonicParsing="false" onAction="#onDashboardClick" styleClass="sidebar-button, active-sidebar-button" text="Tableau de bord" />
                                    <Button fx:id="btnRendezVous" mnemonicParsing="false" onAction="#onRendezVousClick" styleClass="sidebar-button" text="Rendez-vous" />

                                    <Label styleClass="menu-category" text="DISPONIBILITÉS">
                                        <VBox.margin>
                                            <Insets bottom="5.0" left="10.0" top="15.0" />
                                        </VBox.margin>
                                    </Label>
                                    <Button fx:id="btnDisponibilitesAdd" mnemonicParsing="false" onAction="#onDisponibilitesAddClick" styleClass="sidebar-button" text="Ajouter Disponibilités" />
                                    <Button fx:id="btnDisponibilitesView" mnemonicParsing="false" onAction="#onDisponibilitesViewClick" styleClass="sidebar-button" text="Consulter Disponibilités" />

                                    <Label styleClass="menu-category" text="SUIVI">
                                        <VBox.margin>
                                            <Insets bottom="5.0" left="10.0" top="15.0" />
                                        </VBox.margin>
                                    </Label>
                                    <Button fx:id="btnAjouterGrossesse" mnemonicParsing="false" onAction="#onAjouterGrossesseClick" styleClass="sidebar-button" text="Ajouter Grossesse" />
                                    <Button fx:id="btnSuiviGrossesse" mnemonicParsing="false" onAction="#onSuiviGrossesseClick" styleClass="sidebar-button" text="Suivi Grossesse" />

                                    <Label styleClass="menu-category" text="CONFIGURATION">
                                        <VBox.margin>
                                            <Insets bottom="5.0" left="10.0" top="15.0" />
                                        </VBox.margin>
                                    </Label>

                                    <Button fx:id="btnChambres" mnemonicParsing="false" onAction="#onChambresClick" styleClass="sidebar-button" text="Chambres" />
                                    <Button fx:id="btnBlog" mnemonicParsing="false" onAction="#onBlogClick" styleClass="sidebar-button" text="Articles Blog" />
                                    <Button fx:id="btnOrdonnances" mnemonicParsing="false" onAction="#onOrdonnancesClick" styleClass="sidebar-button" text="Ordonnances" />
                                    <Button fx:id="btnModifOrdonnances" mnemonicParsing="false" onAction="#onModifOrdonnancesClick" styleClass="sidebar-button" text="Modifier Ordonnances" />
                                    <Button fx:id="btnTraitements" mnemonicParsing="false" onAction="#onTraitementsClick" styleClass="sidebar-button" text="Traitements" />
                                    <Button fx:id="btnModifTraitements" mnemonicParsing="false" onAction="#onModifTraitementsClick" styleClass="sidebar-button" text="Modifier Traitement" />

                                    <Label styleClass="menu-category" text="UTILISATEURS">
                                        <VBox.margin>
                                            <Insets bottom="5.0" left="10.0" top="15.0" />
                                        </VBox.margin>
                                    </Label>

                                    <Button fx:id="btnUtilisateurs" mnemonicParsing="false" onAction="#onUtilisateursClick" styleClass="sidebar-button" text="Comptes Utilisateurs" />
                                    <Button fx:id="btnSymptomes" mnemonicParsing="false" onAction="#onAjouterClick" styleClass="sidebar-button" text="Ajouter Compte" />
                                    <Button fx:id="btnSupprimer" mnemonicParsing="false" onAction="#onSupprimerClick" styleClass="sidebar-button" text="Supprimer Compte" />
                                </children>
                            </VBox>

                            <!-- Bouton Déconnexion centré et incliné -->
                            <HBox alignment="CENTER" styleClass="logout-container">
                                <VBox.margin>
                                    <Insets bottom="15.0" top="10.0" />
                                </VBox.margin>
                                <children>
                                    <Button fx:id="btnLogout" mnemonicParsing="false" onAction="#onLogoutClick" styleClass="logout-button" text="Déconnexion" />
                                </children>
                            </HBox>
                        </VBox>
                    </content>
                </ScrollPane>
            </left>

            <!-- Contenu principal avec couleur de fond uniforme -->
            <center>
                <VBox style="-fx-background-color: #E9F6FF;">
                    <!-- En-tête du contenu -->
                    <HBox alignment="CENTER_LEFT" prefHeight="60.0" styleClass="content-header">
                        <padding>
                            <Insets left="20.0" right="20.0" />
                        </padding>
                        <children>
                            <Label fx:id="pageTitleLabel" styleClass="page-title" text="Tableau de bord">
                                <font>
                                    <Font name="System Bold" size="20.0" />
                                </font>
                            </Label>

                            <HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS">
                                <children>
                                    <Button fx:id="btnRefresh" mnemonicParsing="false" onAction="#onRefreshClick" styleClass="action-button, refresh-button" text="Actualiser" />
                                    <Button fx:id="btnSettings" mnemonicParsing="false" onAction="#onSettingsClick" styleClass="action-button, settings-button" text="Paramètres">
                                        <HBox.margin>
                                            <Insets left="10.0" />
                                        </HBox.margin>
                                    </Button>
                                </children>
                            </HBox>
                        </children>
                    </HBox>

                    <!-- Zone de contenu principal avec background uniforme -->
                    <StackPane fx:id="contentArea" VBox.vgrow="ALWAYS" style="-fx-background-color: #E9F6FF;">
                        <!-- Contenu par défaut (Dashboard) -->
                    </StackPane>
                </VBox>
            </center>

            <!-- Pied de page -->
            <bottom>
                <HBox alignment="CENTER" prefHeight="40.0" styleClass="footer" BorderPane.alignment="CENTER">
                    <children>
                        <Label styleClass="footer-text" text="© 2025 BabySteps - Administration" />
                    </children>
                </HBox>
            </bottom>
        </BorderPane>
    </children>
</AnchorPane>